package boot;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.InputStreamReader;
import java.io.PrintWriter;

import model.MyModel;
import presenter.MyPresenter;
import presenter.Properties;
import presenter.PropertiesHandler;
import view.AbstractObservableView;
import view.BasicWindow;
import view.CLI;
import view.GameWindow;
import view.ObservableCLIView;

public class Run2 {

	public static void main(String[] args) {
		
		Properties prop;
		try{
			prop = PropertiesHandler.getInstance();
			System.out.println("found");
		}catch (FileNotFoundException e) {
			prop = new Properties();
		}
		
		CLI client = new CLI(new BufferedReader(new InputStreamReader(System.in)),new PrintWriter(System.out,true));
		MyModel model = new MyModel();
		
		GameWindow view;
		//if (prop.getGUI())
		view = new GameWindow(prop);
		//else
		//	v = new ObservableCLIView();
			MyPresenter p = new MyPresenter(model, view);
		view.setCli(client);
		client.addObserver(view);
		view.addObserver(p);
		model.addObserver(p);
			
		 ((BasicWindow) view).run();
		 
		 
		 
	
	}
	

}
